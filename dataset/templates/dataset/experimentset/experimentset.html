{% extends "dataset/base/base.html" %}

{% block child_list %}
  <span>
    <h2 id='experiments' class="underline left-align section-heading">Experiments
      {% if request.user in instance.editors or request.user in instance.administrators %}
        <a href="{% url 'dataset:experiment_new' %}?experimentset={{ instance.urn }}">
          <i class="icon far fa-plus-square pl-1" data-toggle="tooltip" data-placement="top" title="Add an Experiment."
             style="font-size: 32px; padding-bottom: 4px"></i>
        </a>
      {% endif %}
    </h2>
  </span>
  {% if instance.children.count %}
    <ul>
      {% for child in instance.children %}
        {% if child.private %}
          {% if child in request.user.profile.contributor_experiments %}
            <li class="child-list-item">
              <a style="display:block;" href="{% url 'dataset:experiment_detail' child.urn %}">
                <p class="urn-item-link">{{ child.urn }} [Private]</p>
              </a>
              <p class="child-list-description"><b>{{ child.get_title }}</b></p>
              <p class="child-list-description">{{ child.get_description }}</p>
            </li>
          {% endif %}
        {% else %}
          <li class="child-list-item">
            <a style="display:block;" href="{% url 'dataset:experiment_detail' child.urn %}">
              <p class="urn-item-link">{{ child.urn }}</p>
            </a>
            <p class="child-list-description"><b>{{ child.get_title }}</b></p>
            <p class="child-list-description">{{ child.get_description }}</p>
          </li>
        {% endif %}
      {% endfor %}
    </ul>
  {% else %}
    <p class="text-muted">No experiments have been associated with this set.</p>
  {% endif %}
{% endblock %}