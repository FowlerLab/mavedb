{% extends "dataset/base/base.html" %}

{% block target %}
<div class="pl-4">
  <h2 id="targets" class="underline left-align section-heading"> Targets </h2>
  {% if instance.get_targets.count %}
    {% if instance.get_targets.count > 1%}
      <p class="text-muted">Multiple targets have been scored for this experiment: </p>
    {% else %}
      <p class="text-muted">A single target has been scored for this experiment: </p>
    {% endif %}
    {% for target in instance.get_targets.all %}
      <a href="{% url 'dataset:scoreset_detail' target.scoreset.urn %}">
        <div class="target-card">
          <p><strong>Target:</strong> {{ target.get_name }}</p>
          <p><strong>Species:</strong> {{ target.get_reference_genomes.first.format_species_name_html|safe }}</p>
          <p><strong>Wildtype Sequence:</strong> {{ target.get_wt_sequence }}</p>
          {% if forloop.counter < instance.get_targets.count %}
            <hr>
          {% endif %}
        </div>
      </a>
    {% endfor %}
  {% else %}
    <p class="text-muted">No targets have been scored for this experiment.</p>
  {% endif %}
{% endblock %}

{% block child_list %}
  <h2 id='scoresets' class="underline left-align section-heading">Score Sets</h2>
  {% if instance.children.count %}
    {% for child in instance.children %}
    <ul>
      <li class="child-list-item">
        <a style="display:block;" href="{% url 'dataset:scoreset_detail' child.urn %}">
          <p class="urn-item-link">{{ child.urn }}</p>
        </a>
        <p class="child-list-description"><b>{{ child.get_title }}</b></p>
        <p class="child-list-description">{{ child.get_description }}</p>
      </li>
    </ul>
    {% endfor %}
  {% else %}
    <p class="text-muted">No Score sets have been associated with this experiment.</p>
  {% endif %}
</div>
{% endblock %}

