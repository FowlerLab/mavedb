{% extends "main/base.html" %}

{% block body %}
<div class="row">

	<!-- Sidebar -->
	<div class="col-md-2 border border-top-0 border-bottom-0 border-left-0 border-secondary">
		<h5> {{ scoreset.accession }} </h5>
		<p> 
			Member of experiment
			<a href="{% url 'experiment:experiment_detail' scoreset.experiment.accession %}">
				{{ scoreset.experiment.accession }}
			</a>
		</p>
	</div>
	
	<!-- Content -->
	<div class="col-md-8 mx-3">
		<h3> Abstract </h3>
		<p> {{ scoreset.md_abstract|safe|escape|default:"Not provided" }} </p>
		<hr>
		
		<h3> Method description </h3>
		<p> {{ scoreset.md_method_desc|safe|escape|default:"Not provided" }} </p>
		<hr>
		
		<h3> Publication information </h3>
		<span style="font-weight: 600;">Created on:</span>
			<span>{{ scoreset.creation_date }}</span>
		<br>
		<span style="font-weight: 600;">Created by:</span>
			<span>{{ scoreset.created_by|default:"None" }}</span>
		<br>
		<span style="font-weight: 600;">Last edited on:</span>
			<span>{{ scoreset.last_edit_date|default:"None" }}</span>
		<br>
		<span style="font-weight: 600;">Last edited by:</span>
			<span>{{ scoreset.last_edit_by|default:"None" }}</span>
		<br>
		<span style="font-weight: 600;">Authors:</span>
			<span>{{ scoreset.get_authors|default:"None" }}</span>
		<br>	
		<span style="font-weight: 600;">DOI:</span>
			<span>{{ scoreset.doi_id|default:"None" }}</span>
		<br>
		<span style="font-weight: 600;">Reviewed:</span>
			<span>
				{% if scoreset.approved %}
					{{ "Yes "}}
				{% else %}
					{{ "No" }}
				{% endif %}
			</span>
		<br>
		<hr>
		
		<h3> Information </h3>
		<span style="font-weight: 600;">Keywords: </span>
			<span>{{ scoreset.get_keywords|default:"Not provided" }}</span>
		<br>
		<hr>
		
		<div style="display:inline-flex;"> 
				<h3>Scores dataset</h3>
			 <a style="padding:13px;" 
					href="{% url 'scoreset:scores_download' scoreset.accession %}">
				 Download
			 </a>
		 </div>
			{% if not variants %}
				<p> No scores data available.</p>
			{% else %}
				<table class="u-full-width">
					<thead>
						<tr>
							{% for column in scores_columns %}
								<th> {{column}} </th>
							{% endfor %}
						</tr>
					</thead>
					<tbody>
						{% for var in variants %}
							<tr>
								{% for data in var.get_ordered_scores_data %}
									<td> {{ data }} </td>
								{% endfor %}
							</tr>
						{% endfor %}
					</tbody>
				</table>
			{% endif %}
		<br>
		<hr>

		<div style="display:inline-flex;"> 
		 	<h3>Counts dataset</h3>
			<a 	style="padding:13px;" 
					href="{% url 'scoreset:counts_download' scoreset.accession %}">
				Download
			</a>
		</div>
		{% if not variants %}
			<p> No scores data available.</p>
		{% else %}
			<table class="u-full-width">
				<thead>
					<tr>
						{% for column in counts_columns %}
							<th> {{ column }} </th>
						{% endfor %}
					</tr>
				</thead>
				<tbody>
					{% for var in variants %}
						<tr>
							{% for data in var.get_ordered_counts_data %}
								<td> {{ data }} </td>
							{% endfor %}
						</tr>
					{% endfor %}
				</tbody>
			</table>					
		{% endif %}
		<br>

	</div> <!-- end column -->
</div> <!-- end row -->
{% endblock body %}