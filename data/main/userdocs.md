# Data organization
MaveDB has three dataset types: Score Set, Experiment, and Experiment Set. All 
score, count, and target information is stored in Score Sets. Experiment Sets 
and Experiments are used for organization and metadata. 

The dataset types are organized hierarchically. Each Experiment Set can contain 
multiple Experiments and each Experiment can contain multiple Score Sets.

## Score sets

Score sets contain variant effect scores, counts, and associated metadata 
generated by analyzing data from a single functional assay and its biological 
or technical replicates. MaveDB can contain multiple associated Score Sets that 
provide different representations of the same data. For example, scores for 
nucleotide-level variants and amino acid-level variants for the same underlying 
assay data would be included as different score sets.

Score information is uploaded in .csv format. The only two columns required in 
a score set are the variant identifiers (in HGVS format) and the scores (as 
floating point values). The database supports any number of additional numeric 
columns with arbitrary names. These additional columns are intended to store 
scoring method-specific values for each variant, such as the variance or model 
parameters, and should be described in the Score Set method description.

Counts can be uploaded as a separate .csv file with arbitrarily named columns. 
The column naming convention for the counts should be described in the Score 
Set method description.

### Required information

* Title
* Contributor names
* Target information
    * Name
    * Species
    * Reference genome and assembly (if applicable)
    * Wild type sequence
* Variant HGVS identifiers (uploaded with score file)
* Variant scores (uploaded with score file)

### Optional information

* Short description
* Abstract (Markdown and MathJax supported)
* Method details (Markdown and MathJax supported)
* Keywords
* Target information
    * UniProt accession
    * RefSeq accession
    * Ensembl accession
* DOIs for additional data sources
* Publication references
* Variant counts (uploaded with counts file)
* Additional variant scoring columns (uploaded with score file)

## Experiments

Experiments describe a single set of assay data. The experiment can include one 
or more replicate assays, but the assay conditions for all data described by 
the experiment should be the same. This entry describes the raw data that is 
used as input to a scoring method to generate a Score Set. Each Experiment can 
have multiple associated Score Sets.

### Required information

* Title
* Contributor names

### Optional information

* Short description
* Abstract (Markdown and MathJax supported)
* Method details (Markdown and MathJax supported)
* Keywords
* DOIs for additional data sources
* SRA accessions for raw sequence data
* Publication references

## Experiment sets

Experiment sets are used to coordinate related Experiments. For example, if a 
single target is assayed under multiple conditions, these would be combined 
into a single Experiment Set. All Experiments in the same set should share the 
same target name and wild type sequence. Experiment sets have no data or 
metadata.

# Accession number formats

MaveDB accession numbers use the 
[URN (Uniform Resource Name) format](https://tools.ietf.org/html/rfc8141). 
These accession numbers have a hierarchical structure that reflects the 
relationship between Experiment Sets, Experiments, Score Sets, and individual 
variants in MaveDB.

# Permissions and editability

When created, a Score Set or Experiment is private and given a temporary 
accession number. Private datasets are only viewable or editable by 
contributors to that dataset. 

After the required information has been provided, 
a contributor can publish the entry at which point it will be publicly 
viewable. Upon publication, required fields can no longer be modified, ensuring 
that the database will be stable over time. Contributors can modify optional 
fields, such as abstract and methods, after publication.

## Contributor types

Contributors are tracked and authenticated using ORCID. There are two access 
levels for each dataset, view and admin. A contributor with view access can 
access the entry if it is private. A contributor with admin access can fully 
edit the entry (including adding and removing contributors) and publish it. 
Each entry must have at least one admin user at all times.

Both types of contributors appear in the contributor list for a given dataset 
and they are not distinguished visually.

## Licensing

When uploading score set information to the database, the user can choose one 
of two licenses:

* [CC BY-NC-SA 4.0 non-commercial license](https://creativecommons.org/licenses/by-nc-sa/4.0/)
* [CC0 public domain license](https://creativecommons.org/licenses/cc0)

By default, new score sets will have the non-commercial license. The license 
can be changed until the score set is published. Note that the non-commercial 
license is compatible with commercial relicensing by the data owners.

# API

MaveDB implements a GET API that can access all fields of published datasets.
To explore the API, visit https://www.mavedb.org/api/
