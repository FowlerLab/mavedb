{% extends "accounts/profile_base.html" %}

{% block profile_body %}

<div class="row">

	<div class="twelve columns">
		<h3> Welcome, {{ request.user.username }} </h3>
		<hr>
		
		<!-- Instances that user is a ADMIN for -->
		<div id="admin-models">
			<h5> Administrator on </h5>
			{% if request.user.profile.administrator_instances %}
				<ul style="list-style: none">
					{% for model in request.user.profile.administrator_instances %}
						<div style="display: inline-flex">
							<li> {{ model.accession }} </li>
							<li style="padding-left:10px;">
								<a href="{% url 'accounts:manage_instance' model.accession %}">Manage</a>
							</li>
							<li style="padding-left:10px;"><b>&middot;</b></li>
							<li style="padding-left:10px;">
								<a href="">Edit</a>
							</li>
							<li style="padding-left:10px;"><b>&middot;</b></li>
							<li style="padding-left:10px;">
								<a href="">Preview</a>
							</li>
						</div>
						<!-- Information -->
						<ul style="list-style: none">
							<li>
								<div style="display: inline-flex">
									<label style="margin-right:5px;">Last edited on: </label>
									<div>{{ model.last_edit_date }}<div>
								</div>
							</li>
							<li>
								<div style="display: inline-flex">
									<label style="margin-right:5px;">View: </label>
									<div> {{ model.private }} <div>
								</div>
							</li>
							<li>
								<div style="display: inline-flex">
									<label style="margin-right:5px;">Approved: </label>
									<div> {{ model.approved }} <div>
								</div>
							</li>
						</ul>
					{% endfor %}
				</ul>
			{% else %}
				<p> You are not tagged as an administrator on any entries. </p>
			{% endif %}
			<hr>
		</div>

		<!-- Instances that user is a CONTRIBUTOR for -->
		<div id="contributor-models">
			<h5> Contributor on </h5>
			{% if request.user.profile.contributor_instances %}
				<ul style="list-style: none">
					{% for model in request.user.profile.contributor_instances %}
						<div style="display: inline-flex">
							<li> {{ model.accession }} </li>
							<li style="padding-left:10px;">
								<a href="">Edit</a>
							</li>
							<li style="padding-left:10px;"><b>&middot;</b></li>
							<li style="padding-left:10px;">
								<a href="">View</a>
							</li>
						</div>
						<!-- Information -->
						<ul style="list-style: none">
							<li>
								<div style="display: inline-flex">
									<label style="margin-right:5px;">Last edited on: </label>
									<div>{{ model.last_edit_date }}<div>
								</div>
							</li>
							<li>
								<div style="display: inline-flex">
									<label style="margin-right:5px;">Private: </label>
									<div> {{ model.private }} <div>
								</div>
							</li>
							<li>
								<div style="display: inline-flex">
									<label style="margin-right:5px;">Approved: </label>
									<div> {{ model.approved }} <div>
								</div>
							</li>
						</ul>
					{% endfor %}
				</ul>
			{% else %}
				<p> You are not tagged as a contributor on any entries. </p>
			{% endif %}
			<hr>
		</div>

		<!-- Instances that are VIEW ONLY for user -->
		<div id="view-only-models">
			<h5> View only on </h5>
			{% if request.user.profile.viewer_instances %}
				<ul style="list-style: none">
					{% for model in request.user.profile.viewer_instances %}
						<div style="display: inline-flex">
							<li> {{ model.accession }} </li>
							<li style="padding-left:10px;"><b>&middot;</b></li>
							<li style="padding-left:10px;">
								<a href="">View</a>
							</li>
						</div>
						<!-- Information -->
						<ul style="list-style: none">
							<li>
								<div style="display: inline-flex">
									<label style="margin-right:5px;">Last edited on: </label>
									<div>{{ model.last_edit_date }}<div>
								</div>
							</li>
							<li>
								<div style="display: inline-flex">
									<label style="margin-right:5px;">Private: </label>
									<div> {{ model.private }} <div>
								</div>
							</li>
							<li>
								<div style="display: inline-flex">
									<label style="margin-right:5px;">Approved: </label>
									<div> {{ model.approved }} <div>
								</div>
							</li>
						</ul>
					{% endfor %}
				</ul>
			{% else %}
				<p> You are not tagged as a viewer only on any entries. </p>
			{% endif %}
		</div>
	
	</div> <!-- end column -->
</div> <!-- end row -->

{% endblock profile_body %}