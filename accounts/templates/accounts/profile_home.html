{% extends "accounts/profile_base.html" %}

{% block profile_body %}

<h3> Welcome, {{ request.user.profile.get_full_name_or_username }} </h3>
<hr>

<!-- Instances that user is a ADMIN for -->
<div id="admin-instances">
	<h5> Administrator on </h5>
	{% if request.user.profile.administrator_instances %}
		<ul style="list-style: none">
			{% for instance in request.user.profile.administrator_instances %}
				<div style="display: inline-flex">
					<li> {{ instance.accession }} </li>
					<li style="padding-left:10px;">
						<a href="{% url 'accounts:manage_instance' instance.accession %}">
							Manage
						</a>
					</li>
					<li style="padding-left:10px;"><b>&middot;</b></li>
					{% if "EXPS" not in instance.accession %}
					<li style="padding-left:10px;">
						<a href="{% url 'accounts:edit_instance' instance.accession %}">
							Edit
						</a>
					</li>
					<li style="padding-left:10px;"><b>&middot;</b></li>
					{% endif %}
					<li style="padding-left:10px;">
						<a href="{% url 'accounts:view_instance' instance.accession %}">
							View
						</a>
					</li>
				</div>
				<!-- Information -->
				<ul style="list-style: none">
					<li>
						<div style="display: inline-flex">
							<label style="margin-right:5px;">Last edited on: </label>
							<div>{{ instance.last_edit_date }}<div>
						</div>
					</li>
					<li>
						<div style="display: inline-flex">
							<label style="margin-right:5px;">Private: </label>
							<div> {{ instance.private }} <div>
						</div>
					</li>
				</ul>
			{% endfor %}
		</ul>
	{% else %}
		<p> You are not tagged as an administrator on any entries. </p>
	{% endif %}
	<hr>
</div>

<!-- Instances that are VIEW ONLY for user -->
<div id="view-only-instances">
	<h5> View only on </h5>
	{% if request.user.profile.viewer_instances %}
		<ul style="list-style: none">
			{% for instance in request.user.profile.viewer_instances %}
				<div style="display: inline-flex">
					<li> {{ instance.accession }} </li>
					<li style="padding-left:10px;"><b>&middot;</b></li>
					<li style="padding-left:10px;">
						<a href="">View</a>
					</li>
				</div>
				<!-- Information -->
				<ul style="list-style: none">
					<li>
						<div style="display: inline-flex">
							<label style="margin-right:5px;">Last edited on: </label>
							<div>{{ instance.last_edit_date }}<div>
						</div>
					</li>
					<li>
						<div style="display: inline-flex">
							<label style="margin-right:5px;">Private: </label>
							<div> {{ instance.private }} <div>
						</div>
					</li>
					<li>
						<div style="display: inline-flex">
							<label style="margin-right:5px;">Approved: </label>
							<div> {{ instance.approved }} <div>
						</div>
					</li>
				</ul>
			{% endfor %}
		</ul>
	{% else %}
		<p> You are not tagged as a viewer only on any entries. </p>
	{% endif %}
</div>
	
{% endblock profile_body %}